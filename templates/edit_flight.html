{% extends "base.html" %}

{% block title %}Edit Flight - {{ flight.title }} - Flight Finder{% endblock %}

{% block content %}
<div class="container">
    <h1>Edit Flight</h1>
    
    <div class="form-container">
        <form id="edit-flight-form" data-id="{{ flight.id }}">
            <!-- Basic flight information -->
            <div class="form-group">
                <label for="title">Flight Title*</label>
                <input type="text" id="title" class="form-control" value="{{ flight.title }}" required>
            </div>
            
            <div class="form-group">
                <label for="airline">Airline*</label>
                <input type="text" id="airline" class="form-control" value="{{ flight.airline }}" required>
            </div>
            
            <div class="form-group">
                <label for="year">Year*</label>
                <input type="text" id="year" class="form-control" value="{{ flight.year }}" required>
            </div>
            
            <!-- Route information -->
            <div class="form-group">
                <label for="departure">Departure Airport*</label>
                <input type="text" id="departure" class="form-control" value="{{ flight.departure }}" required>
            </div>
            
            <div class="form-group">
                <label for="arrival">Arrival Airport*</label>
                <input type="text" id="arrival" class="form-control" value="{{ flight.arrival }}" required>
            </div>
            
            <!-- Flight details -->
            <div class="form-group">
                <label for="flight_time">Flight Time*</label>
                <input type="text" id="flight_time" class="form-control" value="{{ flight.flight_time }}" required>
            </div>
            
            <div class="form-group">
                <label for="price">Price ($)*</label>
                <input type="text" id="price" class="form-control" value="{{ flight.price }}" required>
            </div>
            
            <div class="form-group">
                <label for="image">Image URL*</label>
                <input type="url" id="image" class="form-control" value="{{ flight.image }}" required>
            </div>
            
            <div class="form-group">
                <label for="baggage_policy">Baggage Policy</label>
                <input type="text" id="baggage_policy" class="form-control" value="{{ flight.baggage_policy }}">
            </div>
            
            <div class="form-group">
                <label for="summary">Flight Summary</label>
                <textarea id="summary" class="form-control">{{ flight.summary }}</textarea>
            </div>
            
            <div class="form-group">
                <label for="schedule">Schedule (comma-separated)</label>
                <input type="text" id="schedule" class="form-control" value="{{ flight.schedule|join(', ') }}">
            </div>
            
            <div class="form-group">
                <label for="reviews">Reviews (comma-separated)</label>
                <textarea id="reviews" class="form-control">{{ flight.reviews|join(', ') }}</textarea>
            </div>
            
            <div class="form-actions">
                <button type="button" class="btn btn-discard" data-return-url="/view/{{ flight.id }}">Discard Changes</button>
                <button type="submit" class="btn btn-submit">Save Changes</button>
            </div>
        </form>
    </div>
    
    <!-- Confirmation modal for discarding changes -->
    <div id="confirm-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Confirm Action</h3>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to discard your changes? All unsaved modifications will be lost.</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-cancel">No, continue editing</button>
                <button class="btn btn-confirm">Yes, discard changes</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}